<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- ========================================================================

     ANT BUILD FILE (Ref. http://jakarta.apache.org/ant )

     Ant script for building GeoAPI interfaces, javadoc, jars and zip file.
     Before running, make sure to set following properties:

         homepath   :     The source directory.
         basedir    :     The destination directory.
         merlin     :     The J2SE 1.4 installation directory.
                          If no J2SE 1.4 is available on the system, a 1.5
                          installation directory may be specified instead, but the
                          compilation will not guarantee that the source don't use
                          any feature not present in 1.4.

     NOTE: If you are not behind a proxy, delete all lines containing ${proxy}.

     Author:  Martin Desruisseaux
     Version: $Id$
     ======================================================================== -->

<project name="GeoAPI" default="release" basedir="target">

  <property name="homepath"         value="P:/GeoAPI/trunk/stable/src/main/java/"/>
  <property name="homepath-pending" value="P:/GeoAPI/trunk/pending/src/main/java/"/>
  <property name="merlin"           value="C:/Java/1.4"/>
  <property name="version"          value="2.1 alpha"/>
  <property name="proxy"            value="-J-DproxyHost=proxy -J-DproxyPort=3128"/>
  <setproxy                                    proxyhost="proxy"   proxyport="3128"/>

  <description>
      GeoAPI interfaces.
  </description>

  <tstamp>
    <format property="TODAY" pattern="yyyy-MM-dd" locale="ca"/>
  </tstamp>




  <!-- ======================================================================

       CLEAN: Delete old directories

       ====================================================================== -->

  <target name="clear">

    <delete includeEmptyDirs="true" failonerror="false">
      <fileset dir=".">
        <include name="snapshot/tiger/**"/>
        <include name="snapshot/sources/**"/>
        <include name="snapshot/classes/**"/>
        <include name="snapshot/javadoc/**"/>
        <include name="snapshot/binaries/*.jar"/>
        <include name="snapshot/binaries/*.md5"/>
        <include name="snapshot/download/*.zip"/>
        <include name="pending/sources/**"/>
        <include name="pending/classes/**"/>
        <include name="pending/javadoc/**"/>
      </fileset>
    </delete>

  </target>



  <!-- ======================================================================

       SOURCES: Copy source code and fix carriage returns

       ====================================================================== -->

  <target name="sources" depends="clear">

    <mkdir  dir="snapshot/tiger/sources"/>
    <copy todir="snapshot/tiger/sources" includeEmptyDirs="false">
      <fileset dir="${homepath}">
        <include name="**/*.MF"/>
        <include name="**/*.png"/>
        <include name="**/*.xml"/>
        <include name="**/*.html"/>
        <include name="**/*.java"/>
        <include name="**/*.properties"/>
        <exclude name="*.*"/>
      </fileset>
    </copy>

    <mkdir  dir="pending/sources"/>
    <copy todir="pending/sources" includeEmptyDirs="false">
      <fileset dir="${homepath-pending}">
        <include name="**/*.MF"/>
        <include name="**/*.png"/>
        <include name="**/*.xml"/>
        <include name="**/*.html"/>
        <include name="**/*.properties"/>
        <include name="**/*.java"/>
        <exclude name="com/**/*.java"/>
      </fileset>
    </copy>

    <fixcrlf srcdir="snapshot/tiger/sources" tab="remove" eol="unix" eof="remove">
      <include name="**/*.html"/>
      <include name="**/*.java"/>
      <include name="**/*.properties"/>
    </fixcrlf>

    <!-- Copy to 1.4 directory before we change the source -->
    <mkdir  dir="snapshot/sources"/>
    <copy todir="snapshot/sources">
      <fileset dir="snapshot/tiger/sources">
        <exclude name="**org/opengis/annotation/**"/>
        <exclude name="**/package-info.java"/>
      </fileset>
    </copy>

    <!-- Erase the word after /*{...}*/ constructs -->
    <replaceregexp flags="g">
      <fileset dir="snapshot/tiger/sources" includes="**/*.java"/>
      <regexp pattern="\Q}*/\E\s*[\w\&lt;\&gt;]+"/>
      <substitution expression="}*/"/>
    </replaceregexp>

    <!-- Uncomment /*{...}*/ constructs -->
    <replace dir="snapshot/tiger/sources">
      <include name="**/*.java"/>
      <replacefilter token="/// " value="    "/>
      <replacefilter token="/*{"/>
      <replacefilter token="}*/"/>
    </replace>

  </target>




  <!-- ======================================================================

       COMPILE FOR J2SE 1.5: Compile source code (create *.class files)

       ====================================================================== -->

  <target name="compile-tiger" depends="sources">

    <mkdir dir="snapshot/tiger/classes"/>
    <javac srcdir      = "snapshot/tiger/sources"
           destdir     = "snapshot/tiger/classes"
           encoding    = "ISO-8859-1"
           includes    = "org/**/*.java"
           source      = "1.5"
           target      = "1.5"
           optimize    = "true"
           debug       = "false"
           deprecation = "true"
           failonerror = "true">
    </javac>

    <mkdir dir="pending/classes"/>
    <javac srcdir      = "pending/sources"
           destdir     = "pending/classes"
           encoding    = "ISO-8859-1"
           includes    = "org/**/*.java"
           source      = "1.5"
           target      = "1.5"
           optimize    = "true"
           debug       = "false"
           deprecation = "true"
           failonerror = "true">
      <classpath>
        <pathelement location="snapshot/tiger/classes"/>
        <pathelement path="${java.class.path}"/>
      </classpath>
    </javac>

    <mkdir dir="snapshot/tiger/sources/org/opengis/metadata/doc-files"/>
    <mkdir dir="snapshot/tiger/sources/org/opengis/metadata/doc-files/postgre"/>

    <java classname   = "org.opengis.tools.DatabaseGenerator"
          dir         = "snapshot/tiger/sources/org/opengis/metadata/doc-files/postgre"
          failonerror = "true"
          fork        = "true">
      <classpath>
        <pathelement location="snapshot/tiger/classes"/>
        <pathelement path="${java.class.path}"/>
      </classpath>
      <arg value="-tables"/>
    </java>

    <java classname   = "org.opengis.tools.DatabaseGenerator"
          dir         = "snapshot/tiger/sources/org/opengis/metadata/doc-files/postgre"
          failonerror = "true"
          fork        = "true">
      <classpath>
        <pathelement location="snapshot/tiger/classes"/>
        <pathelement path="${java.class.path}"/>
      </classpath>
      <arg value="-quiet"/>
    </java>

    <java classname   = "org.opengis.tools.ModelComparator"
          dir         = "snapshot/tiger/sources/org/opengis/doc-files"
          failonerror = "true"
          fork        = "true">
      <classpath>
        <pathelement location="snapshot/tiger/classes"/>
        <pathelement path="${java.class.path}"/>
      </classpath>
    </java>

    <java classname   = "org.opengis.tools.NameMapGenerator"
          dir         = "snapshot/tiger/classes/org/opengis/metadata"
          failonerror = "true"
          fork        = "true">
      <classpath>
        <pathelement location="snapshot/tiger/classes"/>
        <pathelement path="${java.class.path}"/>
      </classpath>
    </java>

  </target>




  <!-- ======================================================================

       COMPILE FOR J2SE 1.4: Compile source code (create *.class files)

       ====================================================================== -->

  <target name="compile" depends="compile-tiger">

    <replace dir=".">
      <include name="snapshot/sources/**/*.java"/>
      <replacefilter token="&lt;?&gt;"/>
      <replacefilter token="&lt;? extends Coverage&gt;"/>
      <replacefilter token="&lt;? extends Object&gt;"/>
      <replacefilter token="&lt;? extends Polygon&gt;"/>
      <replacefilter token="&lt;? extends Primitive&gt;"/>
      <replacefilter token="&lt;? extends SurfacePatch&gt;"/>
      <replacefilter token="&lt;? super T&gt;"/>
      <replacefilter token="&lt;ApplicationSchemaInformation&gt;"/>
      <replacefilter token="&lt;Arc&gt;"/>
      <replacefilter token="&lt;ArcClosure&gt;"/>
      <replacefilter token="&lt;ArrowStyle&gt;"/>
      <replacefilter token="&lt;Attribute&gt;"/>
      <replacefilter token="&lt;AttributeDescriptor&gt;"/>
      <replacefilter token="&lt;AttributeType&gt;"/>
      <replacefilter token="&lt;AuthorityURL&gt;"/>
      <replacefilter token="&lt;AxisDirection&gt;"/>
      <replacefilter token="&lt;BrowseGraphic&gt;"/>
      <replacefilter token="&lt;BSplineSurfaceForm&gt;"/>
      <replacefilter token="&lt;ByteInValuePacking&gt;"/>
      <replacefilter token="&lt;CatalogEntry&gt;"/>
      <replacefilter token="&lt;CellGeometry&gt;"/>
      <replacefilter token="&lt;Citation&gt;"/>
      <replacefilter token="&lt;CitationDate&gt;"/>
      <replacefilter token="&lt;Classification&gt;"/>
      <replacefilter token="&lt;Curve&gt;"/>
      <replacefilter token="&lt;CurveInterpolation&gt;"/>
      <replacefilter token="&lt;CurveSegment&gt;"/>
      <replacefilter token="&lt;ColorInterpretation&gt;"/>
      <replacefilter token="&lt;Complex&gt;"/>
      <replacefilter token="&lt;Constraints&gt;"/>
      <replacefilter token="&lt;ContentInformation&gt;"/>
      <replacefilter token="&lt;CoordinateOperation&gt;"/>
      <replacefilter token="&lt;CoordinateReferenceSystem&gt;"/>
      <replacefilter token="&lt;CoverageContentType&gt;"/>
      <replacefilter token="&lt;DataQuality&gt;"/>
      <replacefilter token="&lt;DataStore&gt;"/>
      <replacefilter token="&lt;DataStore,String&gt;"/>
      <replacefilter token="&lt;Datatype&gt;"/>
      <replacefilter token="&lt;DataType&gt;"/>
      <replacefilter token="&lt;DataURL&gt;"/>
      <replacefilter token="&lt;Date&gt;"/>
      <replacefilter token="&lt;DateType&gt;"/>
      <replacefilter token="&lt;DateType,Date&gt;"/>
      <replacefilter token="&lt;DigitalTransferOptions&gt;"/>
      <replacefilter token="&lt;Dimension&gt;"/>
      <replacefilter token="&lt;DimensionNameType&gt;"/>
      <replacefilter token="&lt;Distributor&gt;"/>
      <replacefilter token="&lt;double[]&gt;"/>
      <replacefilter token="&lt;Element&gt;"/>
      <replacefilter token="&lt;Envelope&gt;"/>
      <replacefilter token="&lt;EvaluationMethodType&gt;"/>
      <replacefilter token="&lt;Expression&gt;"/>
      <replacefilter token="&lt;ExtendedElementInformation&gt;"/>
      <replacefilter token="&lt;Extent&gt;"/>
      <replacefilter token="&lt;ExternalGraphicOrMark&gt;"/>
      <replacefilter token="&lt;Feature&gt;"/>
      <replacefilter token="&lt;FeatureAttributeDescriptor&gt;"/>
      <replacefilter token="&lt;FeatureType&gt;"/>
      <replacefilter token="&lt;FeatureTypeList&gt;"/>
      <replacefilter token="&lt;FeatureLayer&gt;"/>
      <replacefilter token="&lt;FeatureStore&gt;"/>
      <replacefilter token="&lt;FeatureStore,String&gt;"/>
      <replacefilter token="&lt;FeatureStyle&gt;"/>
      <replacefilter token="&lt;FeatureListURL&gt;"/>
      <replacefilter token="&lt;Filter&gt;"/>
      <replacefilter token="&lt;FillPattern&gt;"/>
      <replacefilter token="&lt;FillStyle&gt;"/>
      <replacefilter token="&lt;Font&gt;"/>
      <replacefilter token="&lt;Format&gt;"/>
      <replacefilter token="&lt;GeneralParameterDescriptor&gt;"/>
      <replacefilter token="&lt;GeneralParameterValue&gt;"/>
      <replacefilter token="&lt;GenericName&gt;"/>
      <replacefilter token="&lt;Geodesic&gt;"/>
      <replacefilter token="&lt;GeographicBoundingBox&gt;"/>
      <replacefilter token="&lt;GeographicDescription&gt;"/>
      <replacefilter token="&lt;GeographicExtent&gt;"/>
      <replacefilter token="&lt;GeometricObjects&gt;"/>
      <replacefilter token="&lt;GeometricObjectType&gt;"/>
      <replacefilter token="&lt;Geometry&gt;"/>
      <replacefilter token="&lt;Graphic&gt;"/>
      <replacefilter token="&lt;GraphicStyle&gt;"/>
      <replacefilter token="&lt;Identification&gt;"/>
      <replacefilter token="&lt;Identifier&gt;"/>
      <replacefilter token="&lt;ImagingCondition&gt;"/>
      <replacefilter token="&lt;InternationalString&gt;"/>
      <replacefilter token="&lt;Keywords&gt;"/>
      <replacefilter token="&lt;KeywordType&gt;"/>
      <replacefilter token="&lt;Knot&gt;"/>
      <replacefilter token="&lt;KnotType&gt;"/>
      <replacefilter token="&lt;Layer&gt;"/>
      <replacefilter token="&lt;LegendURL&gt;"/>
      <replacefilter token="&lt;LineCap&gt;"/>
      <replacefilter token="&lt;LineJoin&gt;"/>
      <replacefilter token="&lt;LinePattern&gt;"/>
      <replacefilter token="&lt;LineSegment&gt;"/>
      <replacefilter token="&lt;LineString&gt;"/>
      <replacefilter token="&lt;LineStyle&gt;"/>
      <replacefilter token="&lt;List&gt;"/>
      <replacefilter token="&lt;Locale&gt;"/>
      <replacefilter token="&lt;Locale,String&gt;"/>
      <replacefilter token="&lt;LocalName&gt;"/>
      <replacefilter token="&lt;MaintenanceFrequency&gt;"/>
      <replacefilter token="&lt;MaintenanceInformation&gt;"/>
      <replacefilter token="&lt;Mark&gt;"/>
      <replacefilter token="&lt;MediumFormat&gt;"/>
      <replacefilter token="&lt;MediumName&gt;"/>
      <replacefilter token="&lt;MetadataEntity&gt;"/>
      <replacefilter token="&lt;MetadataExtensionInformation&gt;"/>
      <replacefilter token="&lt;MetadataURL&gt;"/>
      <replacefilter token="&lt;Number&gt;"/>
      <replacefilter token="&lt;Object&gt;"/>
      <replacefilter token="&lt;Obligation&gt;"/>
      <replacefilter token="&lt;OnLineFunction&gt;"/>
      <replacefilter token="&lt;OnLineResource&gt;"/>
      <replacefilter token="&lt;Operation&gt;"/>
      <replacefilter token="&lt;OperationMethod&gt;"/>
      <replacefilter token="&lt;OrientableCurve&gt;"/>
      <replacefilter token="&lt;OrientableSurface&gt;"/>
      <replacefilter token="&lt;PaletteInterpretation&gt;"/>
      <replacefilter token="&lt;ParameterDescriptorGroup&gt;"/>
      <replacefilter token="&lt;ParameterValueGroup&gt;"/>
      <replacefilter token="&lt;PathType&gt;"/>
      <replacefilter token="&lt;PixelInCell&gt;"/>
      <replacefilter token="&lt;PixelOrientation&gt;"/>
      <replacefilter token="&lt;Point&gt;"/>
      <replacefilter token="&lt;PointArray&gt;"/>
      <replacefilter token="&lt;Polygon&gt;"/>
      <replacefilter token="&lt;PortrayalCatalogueReference&gt;"/>
      <replacefilter token="&lt;Position&gt;"/>
      <replacefilter token="&lt;PositionalAccuracy&gt;"/>
      <replacefilter token="&lt;Primitive&gt;"/>
      <replacefilter token="&lt;PresentationForm&gt;"/>
      <replacefilter token="&lt;ProcessStep&gt;"/>
      <replacefilter token="&lt;Progress&gt;"/>
      <replacefilter token="&lt;QName&gt;"/>
      <replacefilter token="&lt;RangeMeaning&gt;"/>
      <replacefilter token="&lt;ReferenceSystem&gt;"/>
      <replacefilter token="&lt;Resolution&gt;"/>
      <replacefilter token="&lt;Result&gt;"/>
      <replacefilter token="&lt;ResponsibleParty&gt;"/>
      <replacefilter token="&lt;Restriction&gt;"/>
      <replacefilter token="&lt;Ring&gt;"/>
      <replacefilter token="&lt;Role&gt;"/>
      <replacefilter token="&lt;Rule&gt;"/>
      <replacefilter token="&lt;SampleDimensionType&gt;"/>
      <replacefilter token="&lt;ScopeCode&gt;"/>
      <replacefilter token="&lt;SingleOperation&gt;"/>
      <replacefilter token="&lt;SortOrder&gt;"/>
      <replacefilter token="&lt;Source&gt;"/>
      <replacefilter token="&lt;SpatialRepresentation&gt;"/>
      <replacefilter token="&lt;SpatialRepresentationType&gt;"/>
      <replacefilter token="&lt;SplineCurveForm&gt;"/>
      <replacefilter token="&lt;StandardOrderProcess&gt;"/>
      <replacefilter token="&lt;String&gt;"/>
      <replacefilter token="&lt;String,Class&gt;"/>
      <replacefilter token="&lt;String,Object&gt;"/>
      <replacefilter token="&lt;String, ? extends Object&gt;"/>
      <replacefilter token="&lt;Style&gt;"/>
      <replacefilter token="&lt;Surface&gt;"/>
      <replacefilter token="&lt;SurfaceInterpolation&gt;"/>
      <replacefilter token="&lt;SurfacePatch&gt;"/>
      <replacefilter token="&lt;Symbol&gt;"/>
      <replacefilter token="&lt;T&gt;"/>
      <replacefilter token="&lt;TemporalExtent&gt;"/>
      <replacefilter token="&lt;TopicCategory&gt;"/>
      <replacefilter token="&lt;TopologyLevel&gt;"/>
      <replacefilter token="&lt;Triangle&gt;"/>
      <replacefilter token="&lt;Usage&gt;"/>
      <replacefilter token="&lt;ValueInBytePacking&gt;"/>
      <replacefilter token="&lt;VerticalDatumType&gt;"/>
      <replacefilter token="&lt;VerticalExtent&gt;"/>
      <replacefilter token="&lt;XAnchor&gt;"/>
      <replacefilter token="&lt;YAnchor&gt;"/>

      <replacefilter token=     "(E)"/>
      <replacefilter token=  "&lt;E&gt;"/>
      <replacefilter token=  "&lt;E extends CodeList&gt;"/>
      <replacefilter token=  "&lt;E extends SimpleEnumerationType&gt;"/>
      <replacefilter token="final E " value="final Object "/>

      <replacefilter token="@UML"                          value="//@UML"                          />
      <replacefilter token="@Profile"                      value="//@Profile"                      />
      <replacefilter token="@Extension"                    value="//@Extension"                    />
      <replacefilter token="@Override"                     value="//@Override"                     />
      <replacefilter token="@Deprecated"                   value="//@Deprecated"                   />
      <replacefilter token="@XmlSchema"                    value="//@XmlSchema"                    />
      <replacefilter token="@XmlElement"                   value="//@XmlElement"                   />
      <replacefilter token="import static"                 value="//import static"                 />
      <replacefilter token="import org.opengis.annotation" value="//import org.opengis.annotation" />
    </replace>

    <mkdir dir="snapshot/classes"/>
    <javac srcdir        = "snapshot/sources"
           destdir       = "snapshot/classes"
           encoding      = "ISO-8859-1"
           includes      = "org/**/*.java"
           bootclasspath = "${merlin}/jre/lib/rt.jar"
           extdirs       = "${merlin}/jre/lib/ext"
           source        = "1.4"
           target        = "1.4"
           optimize      = "true"
           debug         = "false"
           failonerror   = "true">
    </javac>

    <copy todir="snapshot/classes">
      <fileset dir="snapshot/tiger/classes">
        <include name="**/*.properties"/>
      </fileset>
    </copy>

  </target>




  <!-- ======================================================================

       JAVADOC: Create HTML javadoc

       ====================================================================== -->

  <target name="javadoc" depends="compile-tiger">

    <javadoc sourcepath       = "snapshot/tiger/sources"
             classpath        = "snapshot/tiger/classes"
             destdir          = "snapshot/javadoc"
             charset          = "ISO-8859-1"
             encoding         = "ISO-8859-1"
             locale           = "en_US"
             source           = "1.5"
             use              = "true"
             nodeprecatedlist = "false"
             author           = "false"
             version          = "true"
             breakiterator    = "true"
             noqualifier      = "all"
             overview         = "snapshot/tiger/sources/org/opengis/overview.html"
             windowtitle      = "GeoAPI ${version}"
             doctitle         = "GeoAPI ${version}"
             header           = "GeoAPI ${version}&lt;br&gt;Build ${TODAY}">

      <arg line="-quiet"/>
      <arg line="-docfilessubdirs"/>
      <arg line="${proxy}"/>

      <bottom>
        &lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD NOWRAP&gt;
        &lt;A HREF=&quot;{@docRoot}/org/opengis/doc-files/Terms.html&quot;&gt;Symbols, terms and definitions&lt;/A&gt;&lt;BR&gt;
        &lt;/TD&gt;&lt;TD NOWRAP ALIGN='right'&gt;
        &lt;FONT SIZE='2'&gt;Copyright &lt;A HREF=&quot;http://www.opengis.org/&quot;&gt;OpenGIS&amp;reg; Consortium&lt;/A&gt;&lt;/FONT&gt;
        &lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;
      </bottom>

      <tag name="unitof" scope="fields,methods" description="Unit of" enabled="false"/>
      <taglet name="org.opengis.tools.UmlTaglet"/>
      <tag name="rename" scope="types,fields,methods" description="Name change from the UML:" enabled="false"/>
      <taglet name="org.opengis.tools.RevisitTaglet"/>

      <link href="http://java.sun.com/j2se/1.5/docs/api"/>
      <link href="http://java.sun.com/products/java-media/jai/forDevelopers/jai-apidocs"/>
      <link href="http://java.sun.com/products/java-media/3D/forDevelopers/j3dapi"/>
      <link href="http://jsr-108.sourceforge.net/javadoc"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Display objects
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 03-064
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.go*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Map server (layers &amp; styling)
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19128
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.layer*:org.opengis.sld*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Feature, filter
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 02-059
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.feature*:org.opengis.filter*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Geometry and topology
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19107
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.spatialschema*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Spatial Referencing by Coordinates
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19111
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.referencing*:org.opengis.parameter*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Catalog Services
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 02-087
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.catalog*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Meta Data
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19115
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.metadata*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Grid Coverage
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 01-004
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.coverage*"/>

      <packageset dir="snapshot/tiger/sources">
        <include name="org/opengis/**" />
      </packageset>

    </javadoc>

    <copy todir="snapshot/javadoc/org/opengis/doc-files">
      <fileset dir="snapshot/tiger/sources/org/opengis/doc-files"/>
    </copy>


    <javadoc sourcepath       = "pending/sources"
             classpath        = "snapshot/tiger/classes:pending/classes"
             destdir          = "pending/javadoc"
             charset          = "ISO-8859-1"
             encoding         = "ISO-8859-1"
             locale           = "en_US"
             source           = "1.5"
             use              = "true"
             nodeprecatedlist = "false"
             author           = "false"
             version          = "true"
             breakiterator    = "true"
             noqualifier      = "all"
             windowtitle      = "GeoAPI ${version} pending interfaces"
             doctitle         = "GeoAPI ${version} pending interfaces"
             header           = "GeoAPI ${version}&lt;br&gt;Build ${TODAY}">

      <arg line="-quiet"/>
      <arg line="-docfilessubdirs"/>
      <arg line="${proxy}"/>

      <bottom>
        &lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD NOWRAP&gt;
        &lt;A HREF=&quot;{@docRoot}/..snapshot/org/opengis/doc-files/Terms.html&quot;&gt;Symbols, terms and definitions&lt;/A&gt;&lt;BR&gt;
        &lt;/TD&gt;&lt;TD NOWRAP ALIGN='right'&gt;
        &lt;FONT SIZE='2'&gt;Copyright &lt;A HREF=&quot;http://www.opengis.org/&quot;&gt;OpenGIS&amp;reg; Consortium&lt;/A&gt;&lt;/FONT&gt;
        &lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;
      </bottom>

      <tag name="unitof" scope="fields,methods" description="Unit of" enabled="false"/>
      <taglet name="org.opengis.tools.UmlTaglet"/>
      <tag name="rename" scope="types,fields,methods" description="Name change from the UML:"/>
      <taglet name="org.opengis.tools.RevisitTaglet"/>

      <link href="http://java.sun.com/j2se/1.5/docs/api"/>
      <link href="http://java.sun.com/products/java-media/jai/forDevelopers/jai-apidocs"/>
      <link href="http://java.sun.com/products/java-media/3D/forDevelopers/j3dapi"/>
      <link href="http://jsr-108.sourceforge.net/javadoc"/>
      <link href="http://geoapi.sourceforge.net/snapshot/javadoc"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Display objects
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 03-064
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.go*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Map server (layers &amp; styling)
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19128
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.layer*:org.opengis.sld*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Feature, filter
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 02-059
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.feature*:org.opengis.filter*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Geometry and topology
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19107
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.spatialschema*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Spatial Referencing by Coordinates
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19111
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.referencing*:org.opengis.parameter*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Catalog Services
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 02-087
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.catalog*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Meta Data
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;ISO-19115
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.metadata*"/>

      <group title="&lt;TABLE WIDTH='100%'&gt;&lt;TR&gt;&lt;TD&gt;Grid Coverage
                    &lt;/TD&gt;&lt;TD ALIGN='right'&gt;&lt;FONT SIZE='-1' COLOR='Navy'&gt;OGC 01-004
                    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"
             packages="org.opengis.coverage*"/>

      <packageset dir="pending/sources">
        <include name="**"/>
      </packageset>

    </javadoc>

  </target>




  <!-- ======================================================================

       JARS: Create jar files and their manifest

       ====================================================================== -->

  <target name="jar" depends="compile">

    <mkdir dir="snapshot/binaries"/>

    <jar destfile = "snapshot/binaries/geoapi.jar"
         basedir  = "snapshot/classes"
         index    = "true">
      <include name="org/**"/>
    </jar>

    <checksum file="snapshot/binaries/geoapi.jar"/>

  </target>

  <target name="jars" depends="compile-tiger,jar">

    <jar destfile = "snapshot/binaries/geoapi-tiger.jar"
         basedir  = "snapshot/tiger/classes"
         index    = "true">
      <include name="org/**"/>
    </jar>

    <checksum file="snapshot/binaries/geoapi-tiger.jar"/>

  </target>



  <!-- ======================================================================

       RELEASE: Create everything and package in a ZIP file

       ====================================================================== -->

  <target name="release" depends="sources,jars,javadoc">

    <mkdir dir="snapshot/download"/>

    <zip destfile="snapshot/download/geoapi.zip">
      <fileset dir="snapshot">
        <include name="javadoc/**"/>
        <include name="sources/**"/>
        <include name="binaries/**"/>
      </fileset>
    </zip>

  </target>

</project>
